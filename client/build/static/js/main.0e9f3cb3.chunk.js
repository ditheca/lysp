(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n(0),a=n(23),s=n.n(a),i=n(93),o=n(34),u=n(7),j=n(9),l=n.n(j),d=n(19),h=n(26),b=n(99),p=n(98),x=n(96),O=n(97),f=n(92),m=n(28),v=n(25),y=n.n(v),g=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],a=t[1],s=function(){return a(!1)},i=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!1),e.next=3,y.a.get("/api/lysp/auth/".concat(j));case 3:t=e.sent,n=t.data,window.location.href="/list/".concat(n.id);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=Object(c.useState)(),u=Object(h.a)(o,2),j=u[0],v=u[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("header",{children:Object(r.jsxs)(b.a,{bg:"dark",variant:"dark",children:[Object(r.jsx)(m.LinkContainer,{to:"/",children:Object(r.jsxs)(b.a.Brand,{children:[Object(r.jsx)("img",{className:"header-logo",src:"/logo256.png",alt:""}),"Lysp"]})}),Object(r.jsx)(p.a,{className:"ml-auto",children:Object(r.jsxs)(p.a.Link,{onClick:function(){return a(!0)},children:[Object(r.jsx)("i",{className:"glyphicon glyphicon-user"})," Login"]})})]})}),Object(r.jsxs)(x.a,{show:n,onHide:s,children:[Object(r.jsx)(x.a.Header,{closeButton:!0,children:Object(r.jsx)(x.a.Title,{children:"What is your list called?"})}),Object(r.jsx)(x.a.Body,{children:Object(r.jsx)(O.a,{children:Object(r.jsx)(O.a.Control,{type:"text",placeholder:"List name",onChange:function(e){return v(e.target.value)}})})}),Object(r.jsxs)(x.a.Footer,{children:[Object(r.jsx)(f.a,{variant:"secondary",onClick:s,children:"Cancel"}),Object(r.jsx)(f.a,{variant:"primary",onClick:i,children:"Submit"})]})]})]})},w=(n(94),n(57),function(){return Object(r.jsx)("section",{className:"landingPage",children:Object(r.jsx)("div",{className:"dark-overlay",children:Object(r.jsx)("div",{className:"landing-inner"})})})}),k=n(95),C=function(e){var t=e.match.params.id,n=function(){var e=Object(d.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("/api/lysp/".concat(t),{title:S});case 3:return n=e.sent,r=n.data,w(r),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(d.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/lysp/".concat(t));case 3:return n=e.sent,r=n.data,w(r),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),s=Object(c.useState)(!1),o=Object(h.a)(s,2),u=o[0],j=o[1],b=function(){return j(!1)},p=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!1),e.next=3,n(S);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=Object(c.useState)([]),v=Object(h.a)(m,2),g=v[0],w=v[1],C=function(){var e=Object(d.a)(l.a.mark((function e(n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure?")){e.next=7;break}return e.next=4,y.a.delete("/api/lysp/".concat(t,"/").concat(n));case 4:r=e.sent,c=r.data,w(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=Object(c.useState)(),B=Object(h.a)(N,2),S=B[0],L=B[1],A=function(e){"object"!==typeof e&&(e=new Date(e));var t,n=Math.floor((new Date-e)/1e3),r=Math.floor(n/31536e3);return r>=1?t="year":(r=Math.floor(n/2592e3))>=1?t="month":(r=Math.floor(n/86400))>=1?t="day":r=0,r?r>1?r+" "+t+"s ago":r+" "+t+" ago":"today"};return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.jsxs)(i.a,{children:[Object(r.jsx)(f.a,{className:"my-3",onClick:function(){return j(!0)},children:"Add Item"}),Object(r.jsx)(k.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:Object(r.jsx)("tbody",{children:Array.isArray(g)&&g.map((function(e){var t=e.title,n=e.date,c=e._id;return Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{children:[Object(r.jsx)(f.a,{className:"remove-btn mr-2",color:"danger",size:"sm",onClick:function(){return C(c)},children:"\xd7"}),t]}),Object(r.jsx)("td",{children:A(n)})]},c)}))},"1")}),Object(r.jsxs)(x.a,{show:u,onHide:b,children:[Object(r.jsx)(x.a.Header,{closeButton:!0,children:Object(r.jsx)(x.a.Title,{children:"New List Item"})}),Object(r.jsx)(x.a.Body,{children:Object(r.jsx)(O.a,{children:Object(r.jsx)(O.a.Control,{type:"text",placeholder:"Item name",onChange:function(e){return L(e.target.value)}})})}),Object(r.jsxs)(x.a.Footer,{children:[Object(r.jsx)(f.a,{variant:"secondary",onClick:b,children:"Close"}),Object(r.jsx)(f.a,{variant:"primary",onClick:p,children:"Save Changes"})]})]})]})},N=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("h2",{className:"text-warning",children:"Page not found"})})},B=function(){return Object(r.jsxs)(o.BrowserRouter,{children:[Object(r.jsx)(g,{}),Object(r.jsxs)(u.g,{children:[Object(r.jsx)(u.d,{exact:!0,path:"/",component:w}),Object(r.jsx)(u.d,{path:"/list/:id",component:C}),Object(r.jsx)(u.d,{children:Object(r.jsx)(i.a,{children:Object(r.jsx)(N,{})})})]})]})};n(88),n(89);s.a.render(Object(r.jsx)(B,{}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.0e9f3cb3.chunk.js.map